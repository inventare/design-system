import{r,e as i,C as o,a}from"./ClickTriggerComponent-Cyna_26r.js";class h{constructor(){this.isTransitioning=!1,this.CLASS_NAME_SHOW="show",this.element=this.createElement()}createElement(){const e=document.createElement("div");return e.className="modal-backdrop fade",e.style.display="none",e}show(){this.isTransitioning||(this.element.parentElement||document.body.appendChild(this.element),this.element.style.display="block",r(this.element),i(()=>{this.isTransitioning=!1},this.element),this.element.classList.add(this.CLASS_NAME_SHOW),this.isTransitioning=!0)}hide(){this.isTransitioning||(i(()=>{var e;this.isTransitioning=!1,this.element.style.display="none",(e=this.element.parentElement)==null||e.removeChild(this.element)},this.element),this.element.classList.remove(this.CLASS_NAME_SHOW),this.isTransitioning=!0)}}const c='[data-toggle="modal"]',m='[data-dismiss="modal"]';class d extends a{createInstance(e){return new u(e)}getElement(e){if(!e)return null;let t=e.closest(c),s=!1;if(t||(t=e.closest(m),s=!0),!t)return null;if(s)return t.closest(".modal");const l=t.getAttribute("data-target");return l?document.querySelector(l):null}}class u{constructor(e){this.isTransitioning=!1,e.id&&(this.handleBackdropClick=this.handleBackdropClick.bind(this),this.element=e,this.element.addEventListener("click",this.handleBackdropClick),this.backdrop=new h)}handleBackdropClick(e){if(this.isTransitioning||!!e.target.closest(".modal-content"))return;const s=()=>{this.isTransitioning=!1,setTimeout(()=>this.element.classList.remove("modal-static"),400)};this.isTransitioning=!0,i(s,this.element),this.element.classList.add("modal-static")}handleAutoFocus(){const e=this.element.querySelector("[autofocus]");e&&e.focus()}show(){if(this.isTransitioning)return;this.element.style.display="block",this.element.removeAttribute("aria-hidden"),this.element.setAttribute("aria-modal",String(!0)),this.element.setAttribute("role","dialog"),this.element.scrollTop=0,r(this.element),i(()=>{this.isTransitioning=!1},this.element),this.element.classList.add("show"),this.backdrop.show(),this.handleAutoFocus(),this.isTransitioning=!0}hide(){if(this.isTransitioning)return;i(()=>{this.element.style.display="none",this.element.setAttribute("aria-hidden",String(!0)),this.element.removeAttribute("aria-modal"),this.element.removeAttribute("role"),this.isTransitioning=!1},this.element),this.backdrop.hide(),this.isTransitioning=!0,this.element.classList.remove("show")}toggle(){return window.getComputedStyle(this.element).display==="block"?this.hide():this.show()}executeByClick(e){this.toggle()}}o.register(new d);export{d as M};
